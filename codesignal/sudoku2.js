function sudoku2(grid) {
  const unique = new Set();
  for(let a = 0; a < grid.length; a ++) {
    for(let b = 0; b < grid.length; b ++) {
      if(grid[a][b] !== '.') {
        unique.add(grid[a][b])
      }
    }
  }
  console.log(unique)
  if(unique.size < 9) {
    return false;
  }
  const vertical = {};
  // vertical
  for(let i = 0; i < grid.length; i++) {
    if(parseInt(grid[i]) > 9) {
      return false;
    }
    for(let j = 0; j < grid[i].length; j++) {
      if(!vertical[j + 1]) {
        vertical[j + 1] = [];
      }
      vertical[j + 1].push(grid[i][j])
      // vertical[j + 1] = vertical[j + 1].push(grid[j][i])
      // console.log(grid[j][i])
    }
  }
  for(let key in vertical) {
    let array = vertical[key].filter(x => x !== '.');
    array = array.sort()
    for(let k = 0; k < array.length; k ++) {
      if(array[k] === array[k + 1]) {
        return false
      }
    }
  }
  // horizontal
  const horizontal = {};
  for(let i = 0; i < grid.length; i++) {
    if(parseInt(grid[i]) > 9) {
      return false;
    }
    for(let j = 0; j < grid[i].length; j++) {
      if(!horizontal[j + 1]) {
        horizontal[j + 1] = [];
      }
      horizontal[j + 1].push(grid[j][i])
      // horizontal[j + 1] = horizontal[j + 1].push(grid[j][i])
      // console.log(grid[j][i])
    }
  }
  for(let key in horizontal) {
    let array = horizontal[key].filter(x => x !== '.');
    array = array.sort();
    for(let k = 0; k < array.length; k ++) {
      if(array[k] === array[k + 1]) {
        return false
      }
    }
  }
  return true;
}

const grid = [
  [".",".",".",".",".","6",".","."], 
  [".",".","1","4",".",".","8",".","."], 
  [".",".",".",".",".",".",".",".","."], 
  [".",".",".",".",".",".",".",".","."], 
  [".",".",".",".","3",".",".",".","."], 
  ["5",".","8","6",".",".",".",".","."], 
  [".","9",".",".",".",".","4",".","."], 
  [".",".",".",".","5",".",".",".","."]
]; // true

// const grid = [
//   [".","4",".",".",".",".",".",".","."], 
//   [".",".","4",".",".",".",".",".","."], 
//   [".",".",".","1",".",".","7",".","."], 
//   [".",".",".",".",".",".",".",".","."], 
//   [".",".",".","3",".",".",".","6","."], 
//   [".",".",".",".",".","6",".","9","."], 
//   [".",".",".",".","1",".",".",".","."], 
//   [".",".",".",".",".",".","2",".","."], 
//   [".",".",".","8",".",".",".",".","."]
// ]; // false

// const grid = [
//   ['.', '.', '.', '.', '2', '.', '.', '9', '.'],
//   ['.', '.', '.', '.', '6', '.', '.', '.', '.'],
//   ['7', '1', '.', '.', '7', '5', '.', '.', '.'],
//   ['.', '7', '.', '.', '.', '.', '.', '.', '.'],
//   ['.', '.', '.', '.', '8', '3', '.', '.', '.'],
//   ['.', '.', '8', '.', '.', '7', '.', '6', '.'],
//   ['.', '.', '.', '.', '.', '2', '.', '.', '.'],
//   ['.', '1', '.', '2', '.', '.', '.', '.', '.'],
//   ['.', '2', '.', '.', '3', '.', '.', '.', '.']
// ]; // false

// const grid = [
//   ['.', '.', '.', '1', '4', '.', '.', '2', '.'],
//   ['.', '.', '6', '.', '.', '.', '.', '.', '.'],
//   ['.', '.', '.', '.', '.', '.', '.', '.', '.'],
//   ['.', '.', '1', '.', '.', '.', '.', '.', '.'],
//   ['.', '6', '7', '.', '.', '.', '.', '.', '9'],
//   ['.', '.', '.', '.', '.', '.', '8', '1', '.'],
//   ['.', '3', '.', '.', '.', '.', '.', '.', '6'],
//   ['.', '.', '.', '.', '.', '7', '.', '.', '.'],
//   ['.', '.', '.', '5', '.', '.', '.', '7', '.']
// ]; // true

// const grid = [
//   ["7",".",".",".","4",".",".",".","."], 
//   [".",".",".","8","6","5",".",".","."], 
//   [".","1",".","2",".",".",".",".","."], 
//   [".",".",".",".",".","9",".",".","."], 
//   [".",".",".",".","5",".","5",".","."], 
//   [".",".",".",".",".",".",".",".","."], 
//   [".",".",".",".",".",".","2",".","."], 
//   [".",".",".",".",".",".",".",".","."], 
//   [".",".",".",".",".",".",".",".","."]
// ]; // false

sudoku2(grid);